#pragma once

#include <Junia/Core/Input.hpp>

namespace GLFW
{
	class GlfwInput : public Junia::Input
	{
	public:
		GlfwInput();
		~GlfwInput();

		bool IsKeyDown_Impl(Junia::KeyCode keycode, Junia::Window::IdType window) override;
		bool IsMouseButtonDown_Impl(Junia::MouseButton button, Junia::Window::IdType window) override;
		JMath::Vec2i GetMousePosition_Impl(Junia::Window::IdType window) override;
	};

	static constexpr unsigned char JeToGlfwButton[3] = {
		0, 1, 2
	};

	static constexpr unsigned char GlfwToJeButton[8] = {
		0, 1, 2, 0, 0, 0, 0, 0
	};

	static constexpr unsigned short JeToGlfwKey[254] = {
		  0,   0, 268, 269, 283, 282, 280, 281, 259, 258, 257,   0, 348,   0, 266, 267,   0,   0,   0,   0,   0,   0,
		284,   0,   0,   0, 260, 256,   0,   0,   0,   0,  32,   0,   0,   0,   0,   0,   0,  39,   0,   0,   0,   0,
		 44,  45,  46,  47,  48,  49,  50,  51,  52,  53,  54,  55,  56,  57,   0,  59,   0,  61,   0,   0,   0,  65,
		 66,  67,  68,  69,  70,  71,  72,  73,  74,  75,  76,  77,  78,  79,  80,  81,  82,  83,  84,  85,  86,  87,
		 88,  89,  90,  91,  92,  93,   0,   0,  96, 263, 265, 262, 264, 290, 291, 292, 293, 294, 295, 296, 297, 298,
		299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314,   0, 261, 340, 344, 341, 345,
		342, 346, 343, 347,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
		  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
		  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
		  0,   0,   0,   0, 335,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
		  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 332, 334,   0, 333, 330, 331, 320, 321,
		322, 323, 324, 325, 326, 327, 328, 329,   0,   0,   0, 336
	};

	static constexpr unsigned short GlfwToJeKey[349] = {
		  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
		  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  32,   0,   0,   0,   0,   0,   0,  39,   0,   0,   0,   0,
		 44,  45,  46,  47,  48,  49,  50,  51,  52,  53,  54,  55,  56,  57,   0,  59,   0,  61,   0,   0,   0,  65,
		 66,  67,  68,  69,  70,  71,  72,  73,  74,  75,  76,  77,  78,  79,  80,  81,  82,  83,  84,  85,  86,  87,
		 88,  89,  90,  91,  92,  93,   0,   0,  96,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
		  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
		  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
		  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
		  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
		  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
		  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
		  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  27,  10,   9,   8,  26, 127,  99,  97,
		100,  98,  14,  15,   2,   3,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   6,   7,   5,   4,  22,   0,
		  0,   0,   0,   0, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118,
		119, 120, 121, 122, 123, 124, 125,   0,   0,   0,   0,   0, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249,
		238, 239, 234, 237, 235, 202, 253,   0,   0,   0, 128, 130, 132, 134, 129, 131, 133, 135,  12
	};
}
